<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable = no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="/favicon.ico">

    <title>Dashboard | MaxPax LLC</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet" >
    <link href="css/bootstrap-sortable.css" rel="stylesheet" >
    <link href="css/style.css?v=1.0" rel="stylesheet" >
      <link href="css/datepicker.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body id="app_body" style="display:none;">

    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#" id="company_logo"></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul id="main_menu" class="nav navbar-nav">
            <!-- Add new menu items here -->
            <li id="sales_link" class="menu_1"><a id="sales" href="#" data-link="sales">Sales</a></li>
            <li id="aging_link" class="menu_1"><a id="aging" href="#" data-link="aging">AR Aging</a></li>
            <li id="documents_link" class="documents"><a id="documents" href="#" data-link="documents">Documents</a></li>
            <li id="inventory_link" class="menu_3 menu_4 menu_7"><a id="inventory" href="#" data-link="inventory">Inventory</a></li>
            <li id="production_link" class="menu_3"><a id="production" href="#" data-link="production">Production</a></li>
            <li id="opensales_link" class="menu_3"><a id="opensales" href="#" data-link="opensales">Open Sales</a></li>
            <li id="shipments_link" class="menu_7"><a id="shipments" href="#" data-link="shipments">Shipments</a></li>
            <li id="inv_trans_link" class="menu_5"><a id="transactions" href="#" data-link="transactions">Transactions</a> </li>
            <li id="user_link" class="admin"><a id="users" href="#" data-link="user">Users</a></li>
            <li><a id="logout" href="#" data-link="logout" class="visible-xs">Logout</a></li>
          </ul>
          <a id="logout_btn" href="#" class="btn btn-primary pull-right hidden-xs logout" style="margin-top: 8px;">Logout</a>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div id="sales_container" class="page_container container company_1">

  		<h1 class="page_header">Sales Dashboard</h1>

  		<div class="panel panel-default">
  			<div class="panel-heading sales_header">
  				MTD Sales - <span class="cur_month">MONTH</span>
  				<p class="month_range">Date Range</p>
  			</div>
  			<div id="mtd_sales" class="panel-body">
  				<table class="table">
  					<thead>
  						<tr>
  							<th></th>
  							<th class="cur_year">YYYY</th>
  							<th class="prev_year">YYYY</th>
  						</tr>
  					</thead>
  					<tbody>
  						<tr>
  							<td class="company_name">MaxPax</td>
  							<td id="cur_mtd_0">--</td>
  							<td id="past_mtd_0">--</td>
  						</tr>
  						<tr>
  							<td class="company_name">US Packaging</td>
  							<td id="cur_mtd_1">--</td>
  							<td id="past_mtd_1">--</td>
  						</tr>
  						<tr class="total_row">
  							<td></td>
  							<td id="cur_mtd_total">--</td>
  							<td id="past_mtd_total">--</td>
  						</tr>
  					</tbody>
  				</table>
  			</div>
  		</div>

  		<div class="panel panel-default">
  			<div class="panel-heading sales_header">
  				YTD Sales
  			</div>
  			<div id="ytd_sales" class="panel-body">
  				<table class="table">
  					<thead>
  						<tr>
  							<th></th>
  							<th class="cur_year">YYYY</th>
  							<th class="prev_year">YYYY</th>
  						</tr>
  					</thead>
  					<tbody>
  						<tr>
  							<td class="company_name">MaxPax</td>
  							<td id="cur_ytd_0">--</td>
  							<td id="past_ytd_0">--</td>
  						</tr>
  						<tr>
  							<td class="company_name">US Packaging</td>
  							<td id="cur_ytd_1">--</td>
  							<td id="past_ytd_1">--</td>
  						</tr>
  						<tr class="total_row">
  							<td></td>
  							<td id="cur_ytd_total">--</td>
  							<td id="past_ytd_total">--</td>
  						</tr>
  					</tbody>
  				</table>
  			</div>
  		</div>
    </div> <!-- /container -->

    <div id="aging_container" class="page_container container company_1">
      <h1 class="page_header">AR Aging Summary</h1>
      <ul id="aging_tabs" class="nav nav-tabs nav-justified" style="margin-bottom: 10px;">
        <li id="tab_company_1" role="presentation" class="active"><a href="#" class="aging_tab" data-tab="1">MaxPax LLC</a></li>
        <li id="tab_company_2" role="presentation"><a href="#" class="aging_tab" data-tab="2">US Packaging LLC</a></li>
      </ul>
      <div id="chart_box" style="width: 100%; height: 300px; margin-top: 10px;"></div>
      <div id="aging_detail">
        <center>Loading...</center>
      </div>
    </div>

    <div id="documents_container" class="page_container container">
	    <h1 class="page_header">QC Docs</h1>
	    <input id="search-docs" class="form-control" type="text" placeholder="Search Documents" style="display: none; margin-bottom: 10px;" />
	    <div id="document_list" class="list-group">
		    Loading...
	    </div>
	    <p id="no_doc_results" style="display:none;">No documents found</p>
    </div>

	<div id="inventory_container" class="page_container container company_3 company_4">
		<div class="row">
		    <div class="col-xs-10">
			    <h1 class="page_header">On-Hand Inventory</h1>
		    </div>
		    <div class="col-xs-2" style="text-align: right;">
		    	<a download="inventory.xls" onclick="return ExcellentExport.excel(this, 'inventory_list', 'Inventory');" class="btn btn-success" style="margin-top: 20px;">Excel</a>
		    </div>
		</div>
	    <div id="inventory_list" class="table-responsive">
		    Loading...
	    </div>
	    <p id="no_inv_results" style="display:none;">No inventory found</p>
    </div>
    <div id="inv_trans_container" class="page_container container company_5">
            <div class="row">
                <div class="col-xs-10">
                    <h1 class="page-header">Inventory Transactions</h1>
                </div>
                <div class="col-xs-2" style="...">
                    <a download="inv_trans.xls" onclick="return ExcellentExport.excel(this, 'inv_trans_list', 'Inventory Transactions');" class="btn btn-success" style="margin-top: 20px;">Excel</a>
                </div>
            </div>
        <div>
            <p style="display:inline-block;margin: 1em;">Start Date: <input type="text" id="startDatePicker" class="datepicker"></p>
            <p style="display:inline-block">End Date: <input type="text" id="endDatePicker" class="datepicker"></p>
            <p style="display: inline-block;margin: 1em"><button onclick="refreshInvTransDates(user_token)">Refresh</button> </p>
        </div>

        <div id="inv_trans_list" class="table-responsive">
            Loading...
        </div>
        <p id="no_inv_trans_results" style="display:none;">No inventory transactions found</p>
    </div>

	<div id="production_container" class="page_container container company_3">
		<div class="row">
		    <div class="col-xs-10">
			    <h1 class="page_header">Production</h1>
		    </div>
		    <div class="col-xs-2" style="text-align: right;">
		    	<a download="production.xls" onclick="return ExcellentExport.excel(this, 'production_list', 'Production');" class="btn btn-success" style="margin-top: 20px;">Excel</a>
		    </div>
		</div>
	    <div id="production_list" class="table-responsive">
		    Loading...
	    </div>
	    <p id="no_prod_results" style="display:none;">No items found</p>
    </div>

	<div id="opensales_container" class="page_container container company_3">
		<div class="row">
		    <div class="col-xs-10">
			    <h1 class="page_header">Open Sales</h1>
		    </div>
		    <div class="col-xs-2" style="text-align: right;">
		    	<a download="opensales.xls" onclick="return ExcellentExport.excel(this, 'opensales_list', 'Open Sales');" class="btn btn-success" style="margin-top: 20px;">Excel</a>
		    </div>
		</div>
	    <ul id="opensales_tabs" class="nav nav-tabs nav-justified" style="margin-bottom: 10px;">
			<li id="tab_list" role="presentation" class="active"><a href="#" class="opensales_tab" data-tab="list">By Customer Ref</a></li>
			<li id="tab_items" role="presentation"><a href="#" class="opensales_tab" data-tab="items">By Item</a></li>
		</ul>
	    <div id="opensales_list" class="table-responsive">
		    Loading...
	    </div>
	    <p id="no_opensales_results" style="display:none;">No sales found</p>
    </div>

    <div id="shipments_container" class="page_container container company_7">
  		<div class="row">
  		    <div class="col-xs-10">
  			    <h1 class="page_header">Shipments</h1>
  		    </div>
  		    <div class="col-xs-2" style="text-align: right;">
  		    	<a download="shipments.xls" onclick="return ExcellentExport.excel(this, 'shipments_list', 'Shipments');" class="btn btn-success" style="margin-top: 20px;">Excel</a>
  		    </div>
  		</div>
  	    <div id="shipments_list" class="table-responsive">
  		    Loading...
  	    </div>
  	    <p id="no_ship_results" style="display:none;">No Shipments found</p>
      </div>

    <div id="user_container" class="page_container container admin_container">
	    <h1 class="page_header" style="display:inline-block;">Users</h1>
	    <button id="new_user" class="btn btn-success pull-right" style="margin-top: 17px;">Add New User</button>
	    <div id="user_list" class="list-group">
		    Loading...
	    </div>
    </div>

	<div id="newUser" class="modal fade admin_container">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">New User</h4>
				</div>
				<div class="modal-body">
					<form id="new_user_form">
						<div class="form-group">
							<label for="first_name">First Name</label>
							<input type="text" class="form-control" id="user_first" name="first_name" placeholder="First name">
						</div>
						<div class="form-group">
							<label for="last_name">Last Name</label>
							<input type="text" class="form-control" id="user_last" name="last_name" placeholder="Last name">
						</div>
						<div class="form-group">
							<label for="email_addr">Email address</label>
							<input type="email" class="form-control" id="user_email" name="email_addr" placeholder="Enter email">
						</div>
						<div class="form-group">
							<label for="user_pass">Password</label>
							<input type="password" class="form-control" id="user_pass" name="user_pass" placeholder="Password">
						</div>
						<div class="form-group">
							<label for="company_id">Company</label>
							<select id="company_id" name="company_id" class="form-control company_list" data-loaded="false">
								<option>Loading...</option>
							</select>
						</div>
						<div class="form-group">
							<label for="access_level">Access Level</label>
							<select id="access_level" name="access_level" class="form-control" data-loaded="false">
								<option value="0">Basic User</option>
								<option value="1">Admin User</option>
							</select>
						</div>
						<button id="new_user_submit" class="btn btn-block btn-success" type="submit">Add User</button>
					</form>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->

	<div id="updateUser" class="modal fade admin_container">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					<h4 class="modal-title">Update User</h4>
				</div>
				<div class="modal-body">
					<form id="update_user_form">
						<input id="update_user_id" type="hidden" name="user_id" value="0" />
						<div class="form-group">
							<label for="first_name">First Name</label>
							<input type="text" class="form-control" id="user_first_update" name="first_name" placeholder="First name">
						</div>
						<div class="form-group">
							<label for="last_name">Last Name</label>
							<input type="text" class="form-control" id="user_last_update" name="last_name" placeholder="Last name">
						</div>
						<div class="form-group">
							<label for="email_addr">Email address</label>
							<input type="email" class="form-control" id="user_email_update" name="email_addr" placeholder="Enter email">
						</div>
						<div class="form-group">
							<label for="user_pass">Change Password</label>
							<input type="password" class="form-control" id="user_pass_update" name="user_pass" placeholder="Password">
						</div>
						<div class="form-group">
							<label for="company_id">Company</label>
							<select id="company_id_update" name="company_id" class="form-control company_list" data-loaded="false">
								<option>Loading...</option>
							</select>
						</div>
						<div class="form-group">
							<label for="access_level">Access Level</label>
							<select id="access_level_update" name="access_level" class="form-control" data-loaded="false">
								<option value="0">Basic User</option>
								<option value="1">Admin User</option>
							</select>
						</div>
						<button id="update_user_submit" class="btn btn-block btn-success" type="submit">Update User</button>
						<button id="delete_user" class="btn btn-block btn-danger btn-sm" type="button">Delete User</button>
					</form>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
    <script src="js/cookies.min.js"></script>
    <script src="js/initialize.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/numeral.min.js"></script>
    <script src="js/bootstrap-sortable.js"></script>
    <script src="js/excellentexport.min.js"></script>
    <!--<script src="js/bootstrap-datepicker.js"></script>-->
	<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script>
        var user_token = "";
        var company_list = false;
        user_token = Cookies.get("user_token");
        if (typeof user_token != 'undefined') {
            $("#app_body").show();
            companyInfo(user_token);
        } else {
            window.location.href = "login.html";
        }

    </script>
  </body>
</html>
